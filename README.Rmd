---
output: github_document
always_allow_html: true
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```


> üöß Warning
>
> Il s'agit d'une version de d√©veloppement


> üìò Info
>
> Les wrappers d'API sont des outils qui facilitent l'utilisation des fonctionnalit√©s offertes par une interface de programmation d'applications (API). Ils simplifient la communication entre une application et une API en g√©rant les d√©tails techniques et en offrant une interface plus conviviale. Les wrappers d'API permettent aux d√©veloppeurs de se concentrer sur la logique de leur application plut√¥t que sur les aspects techniques de l'int√©gration avec l'API. Ils acc√©l√®rent le d√©veloppement et am√©liorent la productivit√© en r√©duisant la quantit√© de code n√©cessaire.


Gr√¢ce √† `{r.apifoncier}` vous pouvez acc√©der aux donn√©es disponibles par l'[API donn√©es fonci√®res du cerema](https://apidf-preprod.cerema.fr/swagger/).


# Installation

Vous pouvez installer r.apifoncier depuis [GitHub](https://github.com/) avec le code suivant :

``` r
# install.packages("devtools")
devtools::install_github("rcadot/r.apifoncier")
```

# Consommations d'espace

## √Ä la commune

### Indicateur de consommations d'espace communes

En indiquant le code INSEE d'une commune au format `numeric` ou `character`, on obtient un dataframe des consommations.

```{r}
library(r.apifoncier)
ind_conso_espace_communes(59001)
```


### Graphique associ√© √† la consommation d'espace d'une commune

La fonction `g_ind_conso_espace_communes()` permet de g√©n√©rer un graphique `{plotly}` de la consommation sur la commune de son choix.

```{r}
ind_conso_espace_communes_g(59350)
```

Par d√©faut, les consommations sont affich√©es en hectares, mais on peut les indiquer en m¬≤ en choisissant `hectare=FALSE`.

```{r}
ind_conso_espace_communes_g(59001,hectare = FALSE,affichage = 'total',legende = FALSE)
```

## Au d√©partement

On retrouve les m√™mes fonctionnalit√©s √† l'√©chelle d√©partementale.

```{r}
ind_conso_espace_dep(59)
```
```{r}
ind_conso_espace_dep_g(59)
```


