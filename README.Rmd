---
output:
  github_document:
    toc: true
    toc_depth: 2
always_allow_html: true
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "50%",
  dpi = 1200
)
```

> üöß Avertissement
>
> Il s'agit d'une version de d√©veloppement. Des modifications sur les fonctions peuvent intervenir.

> üìò
>
> Ce service permet l'interrogation des principales informations issues des diff√©rentes bases de donn√©es fonci√®res produites par le Cerema et la DGALN. Une partie des donn√©es est interrogeable uniquement en tant que b√©n√©ficiaire des donn√©es fonci√®res. Pour retrouver toutes les informations sur les donn√©es fonci√®res : [datafoncier.cerema.fr](datafoncier.cerema.fr) Dictionnaire et documentation sur toutes les variables :[doc-datafoncier.cerema.fr](doc-datafoncier.cerema.fr)

> Les wrappers d'API sont des outils qui facilitent l'utilisation des fonctionnalit√©s offertes par une interface de programmation d'applications (API). Ils simplifient la communication entre une application et une API en g√©rant les d√©tails techniques et en offrant une interface plus conviviale. Les wrappers d'API permettent aux d√©veloppeurs de se concentrer sur la logique de leur application plut√¥t que sur les aspects techniques de l'int√©gration avec l'API. Ils acc√©l√®rent le d√©veloppement et am√©liorent la productivit√© en r√©duisant la quantit√© de code n√©cessaire.

Gr√¢ce √† `{r.apifoncier}` vous pouvez acc√©der aux donn√©es disponibles par l'[API donn√©es fonci√®res du cerema](https://apidf-preprod.cerema.fr/swagger/).

# Installation

Vous pouvez installer `{r.apifoncier}` depuis [GitHub](https://github.com/) avec le code suivant :

``` r
# install.packages("devtools")
devtools::install_github("rcadot/r.apifoncier")
```

```{r setup}
library(r.apifoncier)
```


# Indicateurs de consommation d'espace (acc√®s libre)


# Indicateurs de prix (acc√®s libre)

Les indicateurs de prix sont disponibles annuellement et de mani√®re triennale √† plusieurs √©chelles :

-   R√©gions ;
-   D√©partements ;
-   Aires d'attractivit√©s des villes ;
-   EPCI ;
-   Communes.

```{r}
ind_dv3f_com_annuel('59350') %>% 
  dplyr::select(1:10) # Le r√©sultat contient 617 colonnes
```

# Cartofriches (acc√®s libre)

On peut acc√©der aux friches, soit par d√©partement, commune ou encore √† partir d'une emprise au format WGS84

```{r}
cartofriches_friches(coddep = 59)
```

```{r}
cartofriches_friches(code_insee = 59350)
```

```{r}
cartofriches_friches(in_bbox = '2.827642,50.495958,3.32616,50.767734')
```

On peut √©galement acc√©der aux objets g√©ographiques associ√©s.

```{r echo=TRUE, message=FALSE, warning=FALSE}
cartofriches_geofriches(code_insee = 59350) %>% 
  mapview::mapview()
```

# DVF+ (acc√®s libre)

```{r message=FALSE, warning=FALSE}
dvf_opendata_geomutations(code_insee=59001) %>% 
  dplyr::select(geometry) %>% 
  mapview::mapview()
```

# DV3F (acc√®s restreint)

# Fichiers fonciers (acc√®s restreint)
